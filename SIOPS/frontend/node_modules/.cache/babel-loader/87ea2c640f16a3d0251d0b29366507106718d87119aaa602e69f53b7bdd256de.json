{"ast":null,"code":"var _jsxFileName = \"D:\\\\Sistem Ta1\\\\SIOPS\\\\frontend\\\\src\\\\components\\\\Page\\\\Order\\\\OrderStock.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { ShoppingCart } from \"lucide-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrderForm = () => {\n  _s();\n  const [selectedDate, setSelectedDate] = useState(\"\");\n  const [orders, setOrders] = useState([]);\n  const [orderForm, setOrderForm] = useState({\n    noPembelian: \"\",\n    kodebarang: \"\",\n    barcode: \"\",\n    namaBarang: \"\",\n    hargaBeli: \"\",\n    jumlahBeli: \"\"\n  });\n  const [isFormVisible, setIsFormVisible] = useState(false);\n  const handleDateChange = async e => {\n    const date = e.target.value;\n    setSelectedDate(date);\n    setIsFormVisible(true);\n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`http://localhost:5000/orders?date=${date}`, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      setOrders(response.data);\n    } catch (error) {\n      console.error(\"Error fetching orders:\", error);\n    }\n  };\n  const handleInputChange = e => {\n    setOrderForm({\n      ...orderForm,\n      [e.target.name]: e.target.value\n    });\n  };\n  const handleAddOrder = async e => {\n    e.preventDefault();\n    if (!selectedDate) {\n      alert(\"Pilih tanggal terlebih dahulu!\");\n      return;\n    }\n    try {\n      const token = localStorage.getItem('token');\n      const payload = {\n        ...orderForm,\n        date: selectedDate\n      };\n      const response = await axios.post(\"http://localhost:5000/orders\", payload, {\n        headers: {\n          \"Authorization\": `Bearer ${token}`\n        }\n      });\n      setOrders([...orders, {\n        ...payload,\n        id: response.data.id\n      }]);\n      setOrderForm({\n        noPembelian: \"\",\n        kodebarang: \"\",\n        barcode: \"\",\n        namaBarang: \"\",\n        hargaBeli: \"\",\n        jumlahBeli: \"\"\n      });\n    } catch (error) {\n      console.error(\"Error adding order:\", error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: \"block font-semibold\",\n      children: \"Pilih Tanggal:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"date\",\n      value: selectedDate,\n      onChange: handleDateChange,\n      className: \"border rounded-lg p-2 mb-4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), isFormVisible && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleAddOrder,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"noPembelian\",\n        placeholder: \"No Pembelian\",\n        value: orderForm.noPembelian,\n        onChange: handleInputChange,\n        className: \"border p-2 mb-2 w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"kodebarang\",\n        placeholder: \"Kode Barang\",\n        value: orderForm.kodebarang,\n        onChange: handleInputChange,\n        className: \"border p-2 mb-2 w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"barcode\",\n        placeholder: \"Barcode\",\n        value: orderForm.barcode,\n        onChange: handleInputChange,\n        className: \"border p-2 mb-2 w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"namaBarang\",\n        placeholder: \"Nama Barang\",\n        value: orderForm.namaBarang,\n        onChange: handleInputChange,\n        className: \"border p-2 mb-2 w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"hargaBeli\",\n        placeholder: \"Harga Beli\",\n        value: orderForm.hargaBeli,\n        onChange: handleInputChange,\n        className: \"border p-2 mb-2 w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"jumlahBeli\",\n        placeholder: \"Jumlah Beli\",\n        value: orderForm.jumlahBeli,\n        onChange: handleInputChange,\n        className: \"border p-2 mb-2 w-full\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(ShoppingCart, {\n          className: \"mr-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), \" Tambah Order\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"mt-6 font-semibold\",\n      children: [\"Daftar Order pada \", selectedDate]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: orders.map(order => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"border p-2 mt-2\",\n        children: [order.namaBarang, \" - \", order.jumlahBeli, \" pcs - Rp \", order.hargaBeli]\n      }, order.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(OrderForm, \"pEE5nBu5hdWRkspU6XLCTB5dWYw=\");\n_c = OrderForm;\nexport default OrderForm;\nvar _c;\n$RefreshReg$(_c, \"OrderForm\");","map":{"version":3,"names":["useState","axios","ShoppingCart","jsxDEV","_jsxDEV","OrderForm","_s","selectedDate","setSelectedDate","orders","setOrders","orderForm","setOrderForm","noPembelian","kodebarang","barcode","namaBarang","hargaBeli","jumlahBeli","isFormVisible","setIsFormVisible","handleDateChange","e","date","target","value","token","localStorage","getItem","response","get","headers","data","error","console","handleInputChange","name","handleAddOrder","preventDefault","alert","payload","post","id","children","className","fileName","_jsxFileName","lineNumber","columnNumber","type","onChange","onSubmit","placeholder","required","map","order","_c","$RefreshReg$"],"sources":["D:/Sistem Ta1/SIOPS/frontend/src/components/Page/Order/OrderStock.jsx"],"sourcesContent":["import { useState } from \"react\";\nimport axios from \"axios\";\nimport { ShoppingCart } from \"lucide-react\";\n\nconst OrderForm = () => {\n  const [selectedDate, setSelectedDate] = useState(\"\");\n  const [orders, setOrders] = useState([]);\n  const [orderForm, setOrderForm] = useState({\n    noPembelian: \"\",\n    kodebarang: \"\",\n    barcode: \"\",\n    namaBarang: \"\",\n    hargaBeli: \"\",\n    jumlahBeli: \"\",\n  });\n  const [isFormVisible, setIsFormVisible] = useState(false);\n\n  const handleDateChange = async (e) => {\n    const date = e.target.value;\n    setSelectedDate(date);\n    setIsFormVisible(true);\n    \n    try {\n      const token = localStorage.getItem('token');\n      const response = await axios.get(`http://localhost:5000/orders?date=${date}`, {\n        headers: { \"Authorization\": `Bearer ${token}` }\n      });\n      setOrders(response.data);\n    } catch (error) {\n      console.error(\"Error fetching orders:\", error);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    setOrderForm({ ...orderForm, [e.target.name]: e.target.value });\n  };\n\n  const handleAddOrder = async (e) => {\n    e.preventDefault();\n    \n    if (!selectedDate) {\n      alert(\"Pilih tanggal terlebih dahulu!\");\n      return;\n    }\n\n    try {\n      const token = localStorage.getItem('token');\n      const payload = { ...orderForm, date: selectedDate };\n      const response = await axios.post(\"http://localhost:5000/orders\", payload, {\n        headers: { \"Authorization\": `Bearer ${token}` }\n      });\n      \n      setOrders([...orders, { ...payload, id: response.data.id }]);\n      setOrderForm({\n        noPembelian: \"\",\n        kodebarang: \"\",\n        barcode: \"\",\n        namaBarang: \"\",\n        hargaBeli: \"\",\n        jumlahBeli: \"\",\n      });\n    } catch (error) {\n      console.error(\"Error adding order:\", error);\n    }\n  };\n\n  return (\n    <div>\n      {/* Pilihan Tanggal */}\n      <label className=\"block font-semibold\">Pilih Tanggal:</label>\n      <input \n        type=\"date\" \n        value={selectedDate} \n        onChange={handleDateChange} \n        className=\"border rounded-lg p-2 mb-4\" \n      />\n\n      {/* Form Order Muncul Jika Tanggal Dipilih */}\n      {isFormVisible && (\n        <form onSubmit={handleAddOrder}>\n          <input type=\"text\" name=\"noPembelian\" placeholder=\"No Pembelian\" value={orderForm.noPembelian} onChange={handleInputChange} className=\"border p-2 mb-2 w-full\" required />\n          <input type=\"text\" name=\"kodebarang\" placeholder=\"Kode Barang\" value={orderForm.kodebarang} onChange={handleInputChange} className=\"border p-2 mb-2 w-full\" required />\n          <input type=\"text\" name=\"barcode\" placeholder=\"Barcode\" value={orderForm.barcode} onChange={handleInputChange} className=\"border p-2 mb-2 w-full\" required />\n          <input type=\"text\" name=\"namaBarang\" placeholder=\"Nama Barang\" value={orderForm.namaBarang} onChange={handleInputChange} className=\"border p-2 mb-2 w-full\" required />\n          <input type=\"number\" name=\"hargaBeli\" placeholder=\"Harga Beli\" value={orderForm.hargaBeli} onChange={handleInputChange} className=\"border p-2 mb-2 w-full\" required />\n          <input type=\"number\" name=\"jumlahBeli\" placeholder=\"Jumlah Beli\" value={orderForm.jumlahBeli} onChange={handleInputChange} className=\"border p-2 mb-2 w-full\" required />\n          \n          <button type=\"submit\" className=\"bg-blue-600 text-white px-4 py-2 rounded-lg flex items-center\">\n            <ShoppingCart className=\"mr-2\" /> Tambah Order\n          </button>\n        </form>\n      )}\n\n      {/* Daftar Order Berdasarkan Tanggal */}\n      <h2 className=\"mt-6 font-semibold\">Daftar Order pada {selectedDate}</h2>\n      <ul>\n        {orders.map(order => (\n          <li key={order.id} className=\"border p-2 mt-2\">\n            {order.namaBarang} - {order.jumlahBeli} pcs - Rp {order.hargaBeli}\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nexport default OrderForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}